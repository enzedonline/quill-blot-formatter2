!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("Quill")):"function"==typeof define&&define.amd?define(["Quill"],e):"object"==typeof exports?exports.QuillBlotFormatter2=e(require("Quill")):t.QuillBlotFormatter2=e(t.Quill)}(self,(t=>(()=>{"use strict";var e={744:t=>{var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===i}(t)}(t)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?l((i=t,Array.isArray(i)?[]:{}),t,e):t;var i}function s(t,e,i){return t.concat(e).map((function(t){return r(t,i)}))}function o(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function n(t,e){try{return e in t}catch(t){return!1}}function a(t,e,i){var s={};return i.isMergeableObject(t)&&o(t).forEach((function(e){s[e]=r(t[e],i)})),o(e).forEach((function(o){(function(t,e){return n(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,o)||(n(t,o)&&i.isMergeableObject(e[o])?s[o]=function(t,e){if(!e.customMerge)return l;var i=e.customMerge(t);return"function"==typeof i?i:l}(o,i)(t[o],e[o],i):s[o]=r(e[o],i))})),s}function l(t,i,o){(o=o||{}).arrayMerge=o.arrayMerge||s,o.isMergeableObject=o.isMergeableObject||e,o.cloneUnlessOtherwiseSpecified=r;var n=Array.isArray(i);return n===Array.isArray(t)?n?o.arrayMerge(t,i,o):a(t,i,o):r(i,o)}l.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,i){return l(t,i,e)}),{})};var h=l;t.exports=h},797:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(1)),o=r(i(744)),n=r(i(402)),a=r(i(216)),l=r(i(806)),h=r(i(627)),c=(t,e)=>e;e.default=class{quill;options;currentSpec;specs;overlay;toolbar;sizeInfo;actions;startX=0;startY=0;constructor(t,e={}){if(this.quill=t,this.currentSpec=null,this.actions=[],t.options.readOnly)return this.options=n.default,this.toolbar=new h.default(this),this.specs=[],this.overlay=document.createElement("div"),void(this.sizeInfo=document.createElement("div"));this.options=(0,o.default)(n.default,e,{arrayMerge:c}),[this.overlay,this.sizeInfo]=this.createOverlay(),this.addEventListeners(),this.toolbar=new h.default(this),this.specs=this.options.specs.map((t=>new t(this))),this.specs.forEach((t=>t.init())),document.execCommand("enableObjectResizing",!1,"false"),this.quill.container.style.position=this.quill.container.style.position||"relative",this.registerCustomBlots(),this.keyboardBindings()}show(t){this.hide(),this.currentSpec=t,this.currentSpec.setSelection(),this.setUserSelect("none"),this.quill.container.appendChild(this.overlay),this.repositionOverlay(),this.createActions(t),this.toolbar.create(),document.addEventListener("pointerdown",this.onDocumentPointerDown)}hide(){this.currentSpec&&(this.currentSpec.onHide(),this.currentSpec=null,this.quill.container.removeChild(this.overlay),document.removeEventListener("pointerdown",this.onDocumentPointerDown),this.overlay.style.setProperty("display","none"),this.setUserSelect(""),this.destroyActions(),this.toolbar.destroy(),this.quill.emitter.emit(this.quill.constructor.events.TEXT_CHANGE,0,this.quill.getLength(),"api"))}update(){this.repositionOverlay(),this.actions.forEach((t=>t.onUpdate()))}createActions(t){this.actions=t.getActions().map((t=>(t.onCreate(),t)))}destroyActions(){this.actions.forEach((t=>t.onDestroy())),this.actions=[]}createOverlay(){const t=document.createElement("div");t.classList.add(this.options.overlay.className),this.options.overlay.style&&Object.assign(t.style,this.options.overlay.style),t.style.userSelect="none",t.style.setProperty("-webkit-user-select","none"),t.style.setProperty("-moz-user-select","none"),t.style.setProperty("-ms-user-select","none");const e=document.createElement("div");return this.options.overlay.sizeInfoStyle&&Object.assign(e.style,this.options.overlay.sizeInfoStyle),t.appendChild(e),[t,e]}addEventListeners(){this.overlay.addEventListener("wheel",this.passWheelEventThrough),this.overlay.addEventListener("touchstart",this.onTouchScrollStart,{passive:!1}),this.overlay.addEventListener("touchmove",this.onTouchScrollMove,{passive:!1}),this.overlay.addEventListener("contextmenu",(t=>{t.stopPropagation(),t.preventDefault()})),this.repositionOverlay=this.repositionOverlay.bind(this),this.quill.root.addEventListener("scroll",this.repositionOverlay),new ResizeObserver((()=>{this.repositionOverlay()})).observe(this.quill.root),this.quill.root.addEventListener("click",this.onClick)}repositionOverlay(){if(this.currentSpec){const t=this.currentSpec.getOverlayElement();if(!t)return;const e=t.getBoundingClientRect(),i=this.quill.container.getBoundingClientRect();Object.assign(this.overlay.style,{display:"block",left:`${e.left-i.left-1+this.quill.container.scrollLeft}px`,top:`${e.top-i.top+this.quill.container.scrollTop}px`,width:`${e.width}px`,height:`${e.height}px`})}}setUserSelect(t){["userSelect","mozUserSelect","webkitUserSelect","msUserSelect"].forEach((e=>{this.quill.root.style.setProperty(e,t),document.documentElement&&document.documentElement.style.setProperty(e,t)}))}onDocumentPointerDown=t=>{const e=t.target;this.quill.root.parentNode.contains(e)||e.closest("div[data-blot-formatter-modal]")||e.classList.contains("blot-formatter__proxy-image")||this.hide()};onClick=()=>{this.hide()};passWheelEventThrough=t=>{this.quill.root.scrollLeft+=t.deltaX,this.quill.root.scrollTop+=t.deltaY};onTouchScrollStart=t=>{if(1===t.touches.length){const e=t.touches[0];this.startX=e.clientX,this.startY=e.clientY}};onTouchScrollMove=t=>{if(1===t.touches.length){const e=t.touches[0],i=this.startX-e.clientX,r=this.startY-e.clientY,s=this.quill.root,o=0===s.scrollTop,n=s.scrollTop+s.clientHeight===s.scrollHeight,a=0===s.scrollLeft,l=s.scrollLeft+s.clientWidth===s.scrollWidth,h=Math.abs(r)>Math.abs(i),c=Math.abs(i)>Math.abs(r);let d=!1;h&&(o&&r<0||n&&r>0||(d=!0,s.scrollTop+=r)),c&&(a&&i<0||l&&i>0||(d=!0,s.scrollLeft+=i)),d&&t.preventDefault(),this.startX=e.clientX,this.startY=e.clientY}};onOverlayTouchScrollMove=t=>{this.onTouchScrollMove(t),this.repositionOverlay()};registerCustomBlots(){this.options.image.registerImageTitleBlot&&s.default.register(a.default,!0),this.options.video.registerCustomVideoBlot&&(l.default.aspectRatio=this.options.video.defaultAspectRatio,s.default.register(l.default,!0))}keyboardBindings(){this.options.video.registerBackspaceFix&&(this.quill.keyboard.bindings.Backspace||(this.quill.keyboard.bindings.Backspace=[]),this.quill.keyboard.bindings.Backspace.unshift({key:"Backspace",empty:!0,line:{domNode:{tagName:"IFRAME"}},handler:t=>{this.quill.deleteText(t.index-1,1,"user")}})),this.options.image.registerArrowRightFix&&(this.quill.keyboard.bindings.ArrowRight||(this.quill.keyboard.bindings.ArrowRight=[]),this.quill.keyboard.bindings.ArrowRight.unshift({key:"ArrowRight",collapsed:!0,empty:!1,suffix:/^$/,line:{domNode:{tagName:"P"}},handler:(t,e)=>{this.quill.setSelection(t.index+t.length+1,0,"user")}}))}useRelative(t){if(this.options.resize.allowResizeModeChange){const e=t.getAttribute("width");return e?e.endsWith("%"):this.options.resize.useRelativeSize}return this.options.resize.useRelativeSize}}},402:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(329)),o=r(i(643)),n={specs:[s.default,o.default],overlay:{className:"blot-formatter__overlay",style:{position:"absolute",boxSizing:"border-box",border:"1px dashed #444",backgroundColor:"rgba(255, 255, 255, 0.35)",maxWidth:"100%"},sizeInfoStyle:{position:"absolute",color:"rgba(255, 255, 255, 0.7)",backgroundColor:"rgba(0, 0, 0, 0.7)",top:"50%",left:"50%",transform:"translate(-50%, -50%)",padding:"0.5em",textWrap:"nowrap",fontSize:"1rem",opacity:0},labels:{alt:"Alt Text",title:"Image Title"}},align:{allowAligning:!0,alignments:["left","center","right"]},resize:{allowResizing:!0,allowResizeModeChange:!1,handleClassName:"blot-formatter__resize-handle",handleStyle:{position:"absolute",height:"12px",width:"12px",backgroundColor:"white",border:"1px solid #777",boxSizing:"border-box",opacity:"0.80"},useRelativeSize:!1,minimumWidthPx:25},delete:{allowKeyboardDelete:!0},toolbar:{icons:{left:'\n        <svg viewbox="0 0 18 18">\n          <line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"></line>\n        </svg>\n      ',center:'\n        <svg viewbox="0 0 18 18">\n          <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"></line>\n        </svg>\n      ',right:'\n        <svg viewbox="0 0 18 18">\n          <line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"></line>\n          <line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"></line>\n          <line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"></line>\n        </svg>\n      ',attribute:'\n        <svg viewBox="0 0 24 24" fill="none" class="ql-stroke">\n          <path d="M10 19H12M12 19H14M12 19V5M12 5H6V6M12 5H18V6" stroke-linecap="round" stroke-linejoin="round"/>\n        </svg>\n      ',resizeMode:'\n        <svg viewBox="0 0 24 24" class="ql-stroke">\n          <path\n            d="m 7.7056591,11.853515 q -1.515179,0 -2.4160962,-0.993056 -0.9009172,-1.0032944 -0.9009172,-2.6720388 0,-1.8223098 0.9521057,-2.8665548 0.9521057,-1.0544826 2.5696616,-1.0544826 1.5663674,0 2.426334,0.9725811 0.870204,0.972581 0.870204,2.7334647 0,1.7608836 -0.972581,2.8256044 -0.9623435,1.054482 -2.5287109,1.054482 z M 7.8489868,5.3935293 q -0.9725811,0 -1.5356544,0.7268764 -0.5630732,0.7166387 -0.5630732,1.9758752 0,1.2387612 0.5528356,1.9349241 0.5528355,0.685926 1.5049412,0.685926 0.9623434,0 1.5049413,-0.716639 0.5425978,-0.7166384 0.5425978,-1.9861126 0,-1.2387612 -0.5425978,-1.9246868 Q 8.7806171,5.3935293 7.8489868,5.3935293 Z M 17.533847,4.4926121 8.1151669,19.275845 H 6.6511764 L 16.059619,4.4926121 Z M 16.448651,19.398697 q -1.515179,0 -2.416096,-1.003294 -0.900917,-1.003294 -0.900917,-2.661801 0,-1.82231 0.962343,-2.876793 0.962344,-1.06472 2.559424,-1.06472 1.55613,0 2.426334,0.982819 0.870204,0.982819 0.870204,2.75394 0,1.750646 -0.972581,2.815366 -0.962343,1.054483 -2.528711,1.054483 z m 0.143328,-6.449748 q -0.982819,0 -1.545892,0.716638 -0.552836,0.716639 -0.552836,1.986113 0,1.218286 0.552836,1.914449 0.552835,0.685926 1.504941,0.685926 0.962343,0 1.504941,-0.716639 0.542598,-0.726876 0.542598,-1.986113 0,-1.248998 -0.542598,-1.924686 -0.53236,-0.675688 -1.46399,-0.675688 z"\n            style="fill:currentColor;stroke:currentColor;stroke-width:0.3"\n          />\n        </svg>\n      '},mainClassName:"blot-formatter__toolbar",mainStyle:{position:"absolute",display:"flex",top:"0",right:"0",left:"0",transform:"translateY(-50%)",justifyContent:"center",flexWrap:"wrap",color:"#333",zIndex:"1"},buttonClassName:"blot-formatter__toolbar-button",buttonStyle:{display:"inline-block",width:"27px",height:"26px",background:"white",border:"1px solid #999",cursor:"pointer",margin:"0 -1px 0 0"},svgStyle:{display:"inline-block",width:"100%",height:"100%",background:"white",verticalAlign:"top"}},image:{allowAltTitleEdit:!0,registerImageTitleBlot:!1,registerArrowRightFix:!0},video:{selector:"iframe.ql-video",registerCustomVideoBlot:!1,registerBackspaceFix:!0,defaultAspectRatio:"16/9 auto",proxyStyle:{}}};e.default=n},572:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{formatter;toolbarButtons=[];constructor(t){this.formatter=t}onCreate(){}onDestroy(){}onUpdate(){}}},926:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(1)),o=r(i(572)),n=i(87),a=r(i(715));class l extends o.default{constructor(t){super(t),t.options.image.allowAltTitleEdit&&(this.toolbarButtons=[new a.default("attribute",this.onClickHandler,this.formatter.options.toolbar)])}onClickHandler=()=>{this.showAltTitleModal()};setAltTitle(t,e){const i=this.formatter.currentSpec?.getTargetElement();if(i){t?i.setAttribute("alt",t):i.removeAttribute("alt"),e?i.setAttribute("title",e):i.removeAttribute("title");const r=s.default.find(i),o=r?.parent?.formats()[n.ImageAlign.attrName]?.align;r&&o&&(r.parent?.format(n.ImageAlign.attrName,!1),r.format(n.ImageAlign.attrName,{align:o,title:e}))}}showAltTitleModal(){const t=Array.from(crypto.getRandomValues(new Uint8Array(5)),(t=>String.fromCharCode(97+t%26))).join("");document.body.insertAdjacentHTML("beforeend",this.modalHTML(t));const e=document.getElementById(`${t}-modal`),i=document.getElementById(`${t}-cancel`),r=document.getElementById(`${t}-form`),s=this.formatter.currentSpec?.getTargetElement();if(e&&r){const t=r.elements,o=t.namedItem("alt"),n=t.namedItem("title");o.value=s?.getAttribute("alt")||"",n.value=s?.getAttribute("title")||"",r.addEventListener("submit",(t=>{t.preventDefault(),this.setAltTitle(o.value,n.value),e.remove()})),r.addEventListener("cancel",(()=>{e.remove()})),e.addEventListener("pointerdown",(t=>{t.target===e&&e.remove()})),i?.addEventListener("click",(()=>{e.remove()}))}}modalHTML(t){return`\n        <div id="${t}-modal" data-blot-formatter-modal\n            style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5); display: flex; align-items: center; justify-content: center; z-index: 9999">\n            <div style="background-color: #f2f2f2; padding: 10px; border-radius: 5px; position: relative; width: 90%; max-width: 500px;">\n                <form id="${t}-form" style="margin-block-end: 0;">\n                    <label style="color: black; display: block;" for="alt">\n                    <h6 style="color: black; margin: 0; padding-bottom: 5px !important;">${this.formatter.options.overlay.labels.alt}</h6>\n                    </label>\n                    <textarea style="background-color: white; display: block; resize: none; width: 100%; padding: 5px;" name="alt" rows="3"></textarea>\n                    <label style="display: block; margin-top: 10px;" for="title">\n                    <h6 style="color: black; margin: 0; padding-bottom: 5px !important;">${this.formatter.options.overlay.labels.title}</h6>\n                    </label>\n                    <textarea style="background-color: white; display: block; resize: none; width: 100%; padding: 5px;" name="title" rows="3"></textarea>\n                    <div style="text-align: right;">\n                        <button type="submit" style="margin-top: 5px; font-size: x-large; text-decoration: none; font-weight:bold; color: green; cursor: pointer; background: none; border: 0; padding: 0;">âœ“</button>\n                    </div>\n                </form>\n                <button id="${t}-cancel" type="cancel" style="width: 1.8rem; height: 1.8rem; position: absolute; top: -0.5em; right: -0.5em; padding: 0 2px 2px 2px; background: white; border: 1px solid gray; border-radius: 5px; cursor: pointer;">\n                <svg viewBox="0 0 384 512" height="1.2rem" width="1.2rem" style="fill: red;">   \n                    <path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/>\n                </svg>\n                </button>\n            </div>\n        </div>\n        `}}e.default=l},751:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(1)),o=r(i(572));class n extends o.default{onCreate(){document.addEventListener("keyup",this.onKeyUp,!0),this.formatter.quill.root.addEventListener("input",this.onKeyUp,!0)}onDestroy(){document.removeEventListener("keyup",this.onKeyUp,!0),this.formatter.quill.root.removeEventListener("input",this.onKeyUp,!0)}onKeyUp=t=>{const e=!!document.querySelector("div[data-blot-formatter-modal]");if(this.formatter.currentSpec&&!e&&("Delete"===t.code||"Backspace"===t.code)){const t=this.formatter.currentSpec.getTargetElement();if(t){const e=s.default.find(t);if(e){const t=this.formatter.quill.getIndex(e);this.formatter.quill.deleteText(t,1,"user")}}this.formatter.hide()}}}e.default=n},108:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(572)),o=r(i(715));class n extends s.default{topLeftHandle;topRightHandle;bottomRightHandle;bottomLeftHandle;dragHandle;dragStartX;dragCursorStyle;preDragWidth;pinchStartDistance;calculatedAspectRatio;computedAspectRatio;target;editorStyle;editorWidth;useRelativeSize;resizeModeButton;isUnclickable;hasResized;formattedWidth;sizeInfoTimerId=null;constructor(t){super(t),this.topLeftHandle=this.createHandle("top-left","nwse-resize"),this.topRightHandle=this.createHandle("top-right","nesw-resize"),this.bottomRightHandle=this.createHandle("bottom-right","nwse-resize"),this.bottomLeftHandle=this.createHandle("bottom-left","nesw-resize"),this.dragHandle=null,this.dragStartX=0,this.dragCursorStyle=document.createElement("style"),this.preDragWidth=0,this.pinchStartDistance=0,this.calculatedAspectRatio=0,this.editorWidth=0,this.useRelativeSize=this.formatter.options.resize.useRelativeSize,this.resizeModeButton=null,this.isUnclickable=!1,this.hasResized=!1,this.formattedWidth="",t.options.resize.allowResizeModeChange&&(this.resizeModeButton=this.createResizeModeButton(),this.toolbarButtons=[this.resizeModeButton])}onCreate(){this.target=this.formatter.currentSpec?.getTargetElement(),this.isUnclickable=this.formatter.currentSpec?.isUnclickable||!1,this.formatter.overlay.appendChild(this.topLeftHandle),this.formatter.overlay.appendChild(this.topRightHandle),this.formatter.overlay.appendChild(this.bottomRightHandle),this.formatter.overlay.appendChild(this.bottomLeftHandle),this.formatter.overlay.addEventListener("mousedown",this.onOverlayMouseDown),this.formatter.overlay.addEventListener("mouseup",this.onOverlayMouseUp),this.formatter.overlay.addEventListener("touchstart",this.onOverlayTouchStart,{passive:!1}),this.formatter.overlay.addEventListener("touchmove",this.onOverlayTouchMove,{passive:!1}),this.formatter.overlay.addEventListener("touchend",this.onOverlayTouchEnd,{passive:!1});const t=this.formatter.options.resize.handleStyle||{};this.repositionHandles(t)}onDestroy(){this.target=null,this.isUnclickable=!1,this.setCursor(""),this.formatter.overlay.removeChild(this.topLeftHandle),this.formatter.overlay.removeChild(this.topRightHandle),this.formatter.overlay.removeChild(this.bottomRightHandle),this.formatter.overlay.removeChild(this.bottomLeftHandle),this.formatter.overlay.removeEventListener("mousedown",this.onOverlayMouseDown),this.formatter.overlay.removeEventListener("mouseup",this.onOverlayMouseUp),this.formatter.overlay.removeEventListener("touchstart",this.onOverlayTouchStart,{passive:!1}),this.formatter.overlay.removeEventListener("touchmove",this.onOverlayTouchMove,{passive:!1}),this.formatter.overlay.removeEventListener("touchend",this.onOverlayTouchEnd,{passive:!1}),this.formatter.update()}createHandle(t,e){const i=document.createElement("div");return i.classList.add(this.formatter.options.resize.handleClassName),i.setAttribute("data-position",t),i.style.cursor=e,this.formatter.options.resize.handleStyle&&Object.assign(i.style,this.formatter.options.resize.handleStyle),i.addEventListener("pointerdown",this.onHandlePointerDown),i}repositionHandles(t){let e="0px",i="0px";t&&(t.width&&(e=-parseFloat(t.width)/2+"px"),t.height&&(i=-parseFloat(t.height)/2+"px")),Object.assign(this.topLeftHandle.style,{left:e,top:i}),Object.assign(this.topRightHandle.style,{right:e,top:i}),Object.assign(this.bottomRightHandle.style,{right:e,bottom:i}),Object.assign(this.bottomLeftHandle.style,{left:e,bottom:i})}setCursor(t){if(document.body)if(t)this.dragCursorStyle.innerHTML=`body, body * { cursor: ${t} !important; }`,document.head.appendChild(this.dragCursorStyle);else try{document.head.removeChild(this.dragCursorStyle)}catch{}}resizeMode=t=>{if(t){if(this.hasResized=!1,this.formattedWidth="",this.target){this.useRelativeSize=this.formatter.useRelative(this.target),this.editorStyle=getComputedStyle(this.formatter.quill.root),this.editorWidth=this.formatter.quill.root.clientWidth-parseFloat(this.editorStyle.paddingLeft)-parseFloat(this.editorStyle.paddingRight);const t=this.target.getBoundingClientRect();if(void 0!==t.height&&0!==t.height||(t.height=this.target.clientHeight+1),this.preDragWidth=t.width,this.computedAspectRatio=getComputedStyle(this.target).aspectRatio||"auto",this.calculatedAspectRatio=t.width/t.height,this.useRelativeSize)this.isUnclickable&&"auto"===this.computedAspectRatio&&(this.target.style.aspectRatio=this.formatter.options.video.defaultAspectRatio,console.warn(`No iframe aspect-ratio set. Set an aspect ratio either via custom blot or css.\nUsing temporary aspect ratio "${this.formatter.options.video.defaultAspectRatio}"`));else if(this.isUnclickable&&"auto"!==this.computedAspectRatio){const t=this.computedAspectRatio.match(/(\d+)\s*\/\s*(\d+)/);if(t)try{this.calculatedAspectRatio=parseFloat(t[1])/parseFloat(t[2])}catch{}}this.showSizeInfo(!0,t.width,t.height)}}else{if(this.target&&this.hasResized){let t=this.roundDimension(this.formattedWidth);this.target.setAttribute("width",t),this.formatter.toolbar.buttons.resizeMode&&(this.formatter.toolbar.buttons.resizeMode.selected=this.isRelative),this.isUnclickable?(this.target.style.setProperty("--resize-width",`${t}`),this.target.dataset.relativeSize=`${this.isRelative}`):this.isAligned&&this.target.parentElement&&(this.target.parentElement.style.setProperty("--resize-width",`${t}`),this.target.parentElement.dataset.relativeSize=`${this.isRelative}`)}this.formatter.update(),this.showSizeInfo(!1)}};onHandlePointerDown=t=>{this.resizeMode(!0),t.target instanceof HTMLElement&&this.target&&(this.dragHandle=t.target,this.setCursor(this.dragHandle.style.cursor),this.dragStartX=t.clientX,document.addEventListener("pointermove",this.onHandleDrag),document.addEventListener("pointerup",this.onHandlePointerUp))};onHandleDrag=t=>{if(this.target){this.hasResized=!0;const e=t.clientX-this.dragStartX;let i=0;i=this.dragHandle===this.topLeftHandle||this.dragHandle===this.bottomLeftHandle?Math.round(this.preDragWidth-e):Math.round(this.preDragWidth+e),i=Math.max(Math.min(i,this.editorWidth),this.formatter.options.resize.minimumWidthPx),this.resizeTarget(i)}};onHandlePointerUp=()=>{this.setCursor(""),this.resizeMode(!1),document.removeEventListener("pointermove",this.onHandleDrag),document.removeEventListener("pointerup",this.onHandlePointerUp)};onOverlayTouchStart=t=>{t.target===this.formatter.overlay&&(this.resizeMode(!0),this.target&&2===t.touches.length&&(t.preventDefault(),this.pinchStartDistance=this.calculateDistance(t.touches[0],t.touches[1]),this.preDragWidth=this.target.clientWidth))};onOverlayTouchMove=t=>{if(t.target===this.formatter.overlay&&this.target&&2===t.touches.length&&null!==this.pinchStartDistance&&null!==this.preDragWidth&&(t.preventDefault(),this.target)){this.hasResized=!0;const e=this.calculateDistance(t.touches[0],t.touches[1])/this.pinchStartDistance;let i=Math.round(this.preDragWidth*e);i=Math.max(Math.min(i,this.editorWidth),10),this.resizeTarget(i)}};onOverlayTouchEnd=t=>{t.target===this.formatter.overlay&&this.resizeMode(!1)};onOverlayMouseDown=t=>{t.target===this.formatter.overlay&&this.resizeMode(!0)};onOverlayMouseUp=t=>{t.target===this.formatter.overlay&&this.resizeMode(!1)};resizeTarget(t){if(this.target){const e=t/this.calculatedAspectRatio;this.updateSizeInfo(t,e),this.formatter.useRelative(this.target)?this.formattedWidth=100*t/this.editorWidth+"%":this.formattedWidth=`${t}px`,this.target.setAttribute("width",this.formattedWidth),this.target.setAttribute("height","auto"),this.isUnclickable?(this.useRelativeSize||"auto"!==this.computedAspectRatio||this.target.setAttribute("height",(t/this.calculatedAspectRatio|0)+"px"),this.target.style.setProperty("--resize-width",this.formattedWidth)):!this.isUnclickable&&this.isAligned&&this.target.parentElement&&this.target.parentElement.style.setProperty("--resize-width",this.formattedWidth),this.formatter.update()}}showSizeInfo(t,e=null,i=null){t?(this.cancelSizeInfoTimer(),null!==e&&null!==i&&this.updateSizeInfo(e,i),this.formatter.sizeInfo.style.transition="",this.formatter.sizeInfo.style.opacity="1"):this.closeSizeInfo()}updateSizeInfo(t,e){let i=`${t=Math.round(t)} x ${e=Math.round(e)}px`;if(this.isRelative)i=`${Math.round(100*t/this.editorWidth)}% (${i})`;else if(!this.hasResized){const r=this.target?.getAttribute("width");if(r){if(parseFloat(r)!==t){const s=t/e;i=`${r} x ${Math.round(parseFloat(r)/s)}px (${i})`}}else this.target instanceof HTMLImageElement&&this.target.naturalWidth!==t&&(i=`${this.target.naturalWidth} x ${this.target.naturalHeight}px (${i})`)}this.formatter.sizeInfo.innerText=i}get isRelative(){return this.target?.getAttribute("width")?.endsWith("%")||!1}get isAligned(){return!!this.target&&this.target.hasAttribute("data-blot-align")}createResizeModeButton(){const t=new o.default("resizeMode",this.onResizeModeClickHandler,this.formatter.options.toolbar);return t.preselect=()=>this.isRelative,t}onResizeModeClickHandler=t=>{t.stopImmediatePropagation(),this.swapResizeMode(!0)};swapResizeMode(t=!1){if(this.target){const e=this.target.getBoundingClientRect();let i;this.editorStyle=getComputedStyle(this.formatter.quill.root),this.editorWidth=this.formatter.quill.root.clientWidth-parseFloat(this.editorStyle.paddingLeft)-parseFloat(this.editorStyle.paddingRight),i=this.isRelative?`${Math.round(e.width)}px`:`${Math.round(100*e.width/this.editorWidth)}%`,this.target.setAttribute("width",`${i}`),this.target.setAttribute("height","auto"),this.formatter.currentSpec?.isUnclickable?(this.target.style.setProperty("--resize-width",`${i}`),this.target.dataset.relativeSize=`${this.isRelative}`):this.isAligned&&this.target.parentElement&&(this.target.parentElement.style.setProperty("--resize-width",`${i}`),this.target.parentElement.dataset.relativeSize=`${this.isRelative}`),this.formatter.toolbar.buttons.resizeMode.selected=this.isRelative,this.formatter.update(),t&&(this.showSizeInfo(!0,e.width,e.height),this.showSizeInfo(!1))}}closeSizeInfo(){this.sizeInfoTimerId=setTimeout((()=>{this.formatter.sizeInfo.style.transition="opacity 1s",this.formatter.sizeInfo.style.opacity="0"}),1e3)}cancelSizeInfoTimer(){null!==this.sizeInfoTimerId&&(clearTimeout(this.sizeInfoTimerId),this.sizeInfoTimerId=null)}calculateDistance(t,e){const i=e.clientX-t.clientX,r=e.clientY-t.clientY;return Math.sqrt(i*i+r*r)}roundDimension(t){return t.replace(/([^0-9.-]*)(-?[\d.]+)(.*)/,((t,e,i,r)=>`${e}${Math.round(Number(i))}${r}`))}}e.default=n},737:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(572)),o=r(i(185)),n=r(i(715));class a extends s.default{aligner;alignButtons={};constructor(t){super(t),this.aligner=new o.default(t)}createAlignmentButtons(){for(const t of Object.values(this.aligner.alignments))this.alignButtons[t.name]=new n.default(t.name,this.onClickHandler,this.formatter.options.toolbar);const t=this.formatter.currentSpec?.getTargetBlot();if(t){const e=this.aligner.getAlignment(t);e&&this.alignButtons[e]&&(this.alignButtons[e].preselect=()=>!0)}}clearButtons(){for(const t of Object.values(this.alignButtons))t.selected=!1}onClickHandler=t=>{const e=t.target.closest(`span.${this.formatter.options.toolbar.buttonClassName}`);if(e){const t=e.dataset.action||"",i=this.formatter.currentSpec?.getTargetBlot();if(t&&i){const e=this.aligner.alignments[t];this.clearButtons(),this.aligner.isAligned(i,e)?this.aligner.clear(i):(this.aligner.setAlignment(i,t),this.alignButtons[t].selected=!0)}}this.formatter.update()};onCreate(){this.createAlignmentButtons(),this.toolbarButtons=Object.values(this.alignButtons)}onDestroy(){this.alignButtons={},this.toolbarButtons=[]}}e.default=a},87:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ImageAlign=e.IframeAlign=e.InlineBlot=void 0;const s=r(i(1));e.InlineBlot=s.default.import("blots/inline");const o=s.default.import("parchment"),{ClassAttributor:n,Scope:a}=o;const l=new class extends n{constructor(){super("iframeAlign","ql-iframe-align",{scope:a.BLOCK,whitelist:["left","center","right"]})}add(t,e){if(t instanceof HTMLElement){"object"==typeof e?(super.add(t,e.align),t.dataset.blotAlign=e.align):(super.add(t,e),t.dataset.blotAlign=e);const i=t.getAttribute("width");return i?(t.style.setProperty("--resize-width",i),t.dataset.relativeSize=`${i.endsWith("%")}`):(t.style.removeProperty("--resize-width"),t.dataset.relativeSize="false"),!0}return!1}remove(t){t instanceof HTMLElement&&(super.remove(t),delete t.dataset.blotAlign)}value(t){const e=super.value(t),i=t instanceof HTMLElement&&(t.style.getPropertyValue("--resize-width")||t.getAttribute("width"))||"";return{align:e,width:i,relativeSize:`${i.endsWith("%")}`}}};e.IframeAlign=l;const h=new class extends n{constructor(){super("imageAlign","ql-image-align",{scope:a.INLINE,whitelist:["left","center","right"]})}add(t,e){if(t instanceof HTMLElement&&t.firstChild instanceof HTMLElement){"object"==typeof e?(super.add(t,e.align),t.setAttribute("contenteditable","false"),e.title?t.setAttribute("data-title",e.title):t.removeAttribute("data-title"),t.firstChild.dataset.blotAlign=e.align):(super.add(t,e),t.firstChild.dataset.blotAlign=e);let i=t.firstChild.getAttribute("width");return i||(i=t.firstChild instanceof HTMLImageElement?`${t.firstChild.naturalWidth}px`:`${t.firstChild.clientWidth}px`,t.firstChild.setAttribute("width",i)),t.style.setProperty("--resize-width",i),t.setAttribute("data-relative-size",`${i?.endsWith("%")}`),!0}return!1}remove(t){t instanceof HTMLElement&&(super.remove(t),t.firstChild&&t.firstChild instanceof HTMLElement&&delete t.firstChild.dataset.blotAlign)}value(t){const e=super.value(t),i=t.getAttribute("data-title")||"";let r=t instanceof HTMLElement?t.style.getPropertyValue("--resize-width"):"";return!parseFloat(r)&&t.firstChild instanceof HTMLElement&&(r=t.firstChild.getAttribute("width")||"",!parseFloat(r)&&t.firstChild instanceof HTMLImageElement&&(t.firstChild.complete?r=`${t.firstChild.naturalWidth}px`:t.firstChild.onload=()=>{r=`${t.firstChild.naturalWidth}px`,t.style.setProperty("--resize-width",r),t.firstChild.setAttribute("width",r)})),{align:e,title:i,width:r,contenteditable:"false",relativeSize:`${r.endsWith("%")}`}}};e.ImageAlign=h,s.default.register({"formats/imageAlign":h,"attributors/class/imageAlign":h,"formats/iframeAlign":l,"attributors/class/iframeAlign":l},!0)},185:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(1)),o=i(87),n=s.default.import("parchment"),{Scope:a}=n;e.default=class{alignments={};options;formatter;constructor(t){this.formatter=t,this.options=t.options,this.options.align.alignments.forEach((t=>{this.alignments[t]={name:t,apply:e=>{this.setAlignment(e,t)}}}))}getAlignments(){return Object.keys(this.alignments).map((t=>this.alignments[t]))}clear(t){null!=t&&("IMG"===t.domNode.tagName?null!==t.parent&&"SPAN"===t.parent.domNode.tagName&&t.parent.format(o.ImageAlign.attrName,!1):"IFRAME"===t.domNode.tagName&&t.format(o.IframeAlign.attrName,!1))}isInlineBlot(t){return(t.statics?.scope&a.INLINE)===a.INLINE_BLOT}isBlockBlot(t){return(t.statics?.scope&a.BLOCK)===a.BLOCK_BLOT}hasInlineScope(t){return(t.statics.scope&a.INLINE)===a.INLINE}hasBlockScope(t){return(t.statics.scope&a.BLOCK)===a.BLOCK}isAligned(t,e){const i=this.getAlignment(t);return e?i===e.name:!!i}getAlignment(t){return t.domNode.dataset.blotAlign}setAlignment(t,e){if(null!=t){const i=this.isAligned(t,this.alignments[e]);if(this.clear(t),!i)if(this.isInlineBlot(t)||this.hasInlineScope(t)){if(!t.domNode.getAttribute("width")&&this.formatter.options.resize.useRelativeSize&&!this.formatter.options.resize.allowResizeModeChange)try{const e=getComputedStyle(this.formatter.quill.root),i=this.formatter.quill.root.clientWidth-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight);t.domNode.setAttribute("width",`${Math.min(Math.round(100*t.domNode.naturalWidth/i),100)}%`)}catch{}t.format(o.ImageAlign.attrName,{align:this.alignments[e].name,title:t.domNode.getAttribute("title")||""})}else(this.isBlockBlot(t)||this.hasBlockScope(t))&&t.format(o.IframeAlign.attrName,this.alignments[e].name)}}}},627:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{formatter;element;buttons={};constructor(t){this.formatter=t,this.element=document.createElement("div"),this.element.classList.add(this.formatter.options.toolbar.mainClassName),this.element.addEventListener("mousedown",(t=>{t.stopPropagation()})),this.formatter.options.toolbar.mainStyle&&Object.assign(this.element.style,this.formatter.options.toolbar.mainStyle)}create(){const t=[];this.formatter.actions.forEach((e=>{e.toolbarButtons.forEach((e=>{this.buttons[e.action]=e,t.push(e.create())}))})),this.element.append(...t),this.formatter.overlay.append(this.element)}destroy(){this.element&&this.formatter.overlay.removeChild(this.element);for(const t of Object.values(this.buttons))t.destroy();this.buttons={},this.element.innerHTML=""}}},715:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{action;icon;onClick;options;element=null;constructor(t,e,i){this.action=t,this.icon=i.icons[t],this.onClick=e,this.options=i}create(t=!0){return this.element=document.createElement("span"),this.element.innerHTML=this.icon,this.element.className=this.options.buttonClassName,this.styleButton(),this.element.dataset.action=this.action,this.selected=this.preselect(),this.element.onclick=this.onClick,this.visible=t,this.element}destroy(){this.element&&(this.element.onclick=null,this.element.remove(),this.element=null)}preselect(){return!1}get selected(){return"true"===this.element?.dataset.selected}set selected(t){this.element&&(this.element.dataset.selected=`${t}`,t?this.element.style.setProperty("filter","invert(20%)"):this.element.style.removeProperty("filter"))}get visible(){return"none"!==this.element?.style.display}set visible(t){this.element&&("boolean"==typeof t&&(t=t?"inline-block":"none"),this.element.style.display=t)}styleButton(){if(this.element&&(this.options.buttonStyle&&Object.assign(this.element.style,this.options.buttonStyle),this.options.svgStyle)){const t=this.element.children[0];t&&Object.assign(t.style,this.options.svgStyle)}}}},216:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(1)).default.import("formats/image"),o=["alt","height","width","title"];e.default=class extends s{static formats(t){return o.reduce(((e,i)=>(t.hasAttribute(i)&&(e[i]=t.getAttribute(i)),e)),{})}format(t,e){o.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}},806:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(1)).default.import("formats/video");e.default=class extends s{static aspectRatio="16 / 9 auto";static create(t){const e=super.create(t);return e.setAttribute("width","100%"),e.style.aspectRatio=this.aspectRatio,e}html(){return this.domNode.outerHTML}}},156:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.IframeVideoSpec=e.UnclickableBlotSpec=e.ImageSpec=e.BlotSpec=e.ToolbarButton=e.Toolbar=e.AttributeAction=e.ResizeAction=e.DeleteAction=e.DefaultAligner=e.AlignAction=e.Action=e.default=e.DefaultOptions=void 0;var s=i(402);Object.defineProperty(e,"DefaultOptions",{enumerable:!0,get:function(){return r(s).default}});var o=i(797);Object.defineProperty(e,"default",{enumerable:!0,get:function(){return r(o).default}});var n=i(572);Object.defineProperty(e,"Action",{enumerable:!0,get:function(){return r(n).default}});var a=i(737);Object.defineProperty(e,"AlignAction",{enumerable:!0,get:function(){return r(a).default}});var l=i(185);Object.defineProperty(e,"DefaultAligner",{enumerable:!0,get:function(){return r(l).default}});var h=i(751);Object.defineProperty(e,"DeleteAction",{enumerable:!0,get:function(){return r(h).default}});var c=i(108);Object.defineProperty(e,"ResizeAction",{enumerable:!0,get:function(){return r(c).default}});var d=i(926);Object.defineProperty(e,"AttributeAction",{enumerable:!0,get:function(){return r(d).default}});var u=i(627);Object.defineProperty(e,"Toolbar",{enumerable:!0,get:function(){return r(u).default}});var m=i(715);Object.defineProperty(e,"ToolbarButton",{enumerable:!0,get:function(){return r(m).default}});var p=i(601);Object.defineProperty(e,"BlotSpec",{enumerable:!0,get:function(){return r(p).default}});var f=i(329);Object.defineProperty(e,"ImageSpec",{enumerable:!0,get:function(){return r(f).default}});var g=i(260);Object.defineProperty(e,"UnclickableBlotSpec",{enumerable:!0,get:function(){return r(g).default}});var y=i(643);Object.defineProperty(e,"IframeVideoSpec",{enumerable:!0,get:function(){return r(y).default}})},601:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(1)),o=r(i(737)),n=r(i(108)),a=r(i(751));e.default=class{formatter;isUnclickable=!1;constructor(t){this.formatter=t}init(){}getActions(){const t=[];return this.formatter.options.align.allowAligning&&t.push(new o.default(this.formatter)),this.formatter.options.resize.allowResizing&&t.push(new n.default(this.formatter)),this.formatter.options.delete.allowKeyboardDelete&&t.push(new a.default(this.formatter)),t}getTargetElement(){return null}getTargetBlot(){const t=this.getTargetElement();return t?s.default.find(t):null}getOverlayElement(){return this.getTargetElement()}setSelection(){this.formatter.quill.setSelection(null)}onHide(){}}},643:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(260));class o extends s.default{constructor(t){super(t)}}e.default=o},329:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(601)),o=r(i(926));class n extends s.default{img;constructor(t){super(t),this.img=null}init(){this.formatter.quill.root.addEventListener("click",this.onClick)}getActions(){const t=super.getActions();return t.push(new o.default(this.formatter)),t}getTargetElement(){return this.img}onHide(){this.img=null}onClick=t=>{const e=t.target;e instanceof HTMLImageElement&&(this.img=e,this.formatter.show(this))}}e.default=n},260:function(t,e,i){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=r(i(601));class o extends s.default{selector;unclickable;proxyContainer;unclickableProxies;isUnclickable=!0;constructor(t){super(t),this.selector=t.options.video.selector,this.unclickable=null,this.proxyContainer=this.createProxyContainer(),this.unclickableProxies={}}init(){this.formatter.quill.on("text-change",this.onTextChange),this.formatter.quill.root.addEventListener("scroll",(()=>{this.repositionProxyImages()})),this.observeEditorResize()}observeEditorResize(){let t=null;new ResizeObserver((e=>{for(const i of e)t&&clearTimeout(t),t=window.setTimeout((()=>{this.repositionProxyImages()}),200)})).observe(this.formatter.quill.root)}passWheelEventThrough=t=>{this.formatter.passWheelEventThrough(t),this.repositionProxyImages()};getTargetElement(){return this.unclickable}getOverlayElement(){return this.unclickable}onHide=()=>{this.unclickable=null};onTextChange=()=>{Object.entries(this.unclickableProxies).forEach((([t,{unclickable:e,proxyImage:i}])=>{try{this.formatter.quill.root.contains(e)||(i.remove(),delete this.unclickableProxies[t])}catch{}})),this.formatter.quill.root.querySelectorAll(`${this.selector}:not([data-blot-formatter-id])`).forEach((t=>{this.createUnclickableProxyImage(t)})),this.repositionProxyImages()};createUnclickableProxyImage(t){const e=Array.from(crypto.getRandomValues(new Uint8Array(5)),(t=>String.fromCharCode(97+t%26))).join("");t.dataset.blotFormatterId=e;const i=document.createElement("canvas"),r=i.getContext("2d");r&&(r.globalAlpha=0,r.fillRect(0,0,1,1));const s=document.createElement("img");s.src=i.toDataURL("image/png"),s.classList.add("blot-formatter__proxy-image"),s.dataset.blotFormatterId=e;const o={...this.formatter.options.video.proxyStyle,position:"absolute",margin:"0",userSelect:"none"};Object.assign(s.style,o),s.style.setProperty("-webkit-user-select","none"),s.style.setProperty("-moz-user-select","none"),s.style.setProperty("-ms-user-select","none"),this.proxyContainer.appendChild(s),s.addEventListener("click",this.onProxyImageClick),s.addEventListener("contextmenu",(t=>{t.stopPropagation(),t.preventDefault()})),s.addEventListener("wheel",this.formatter.passWheelEventThrough),s.addEventListener("touchstart",this.formatter.onTouchScrollStart,{passive:!1}),s.addEventListener("touchmove",this.formatter.onTouchScrollMove,{passive:!1}),this.unclickableProxies[e]={unclickable:t,proxyImage:s}}repositionProxyImages(){if(Object.keys(this.unclickableProxies).length>0){const t=window.scrollY,e=window.scrollX,i=this.formatter.quill.container.getBoundingClientRect();let r=0,s=0,o=this.formatter.quill.container;for(;o;)r+=o.scrollTop,s+=o.scrollLeft,o=o.parentElement;Object.entries(this.unclickableProxies).forEach((([o,{unclickable:n,proxyImage:a}])=>{try{const o=n.getBoundingClientRect(),l=o.top+t,h=o.left+e,c=l-i.top-r,d=h-i.left-s;Object.assign(a.style,{display:"block",left:`${d}px`,top:`${c}px`,width:`${o.width}px`,height:`${o.height}px`})}catch(t){const e=`Error positioning proxy image with id ${o}: `;console.error(e,`${t instanceof Error?t.message:t}`)}}))}}onProxyImageClick=t=>{const e=t.target.dataset.blotFormatterId;this.unclickable=this.unclickableProxies[`${e}`].unclickable,this.formatter.show(this)};createProxyContainer(){const t=document.createElement("div");return t.classList.add("proxy-container"),this.formatter.quill.container.appendChild(t),t}}e.default=o},1:e=>{e.exports=t}},i={};var r=function t(r){var s=i[r];if(void 0!==s)return s.exports;var o=i[r]={exports:{}};return e[r].call(o.exports,o,o.exports,t),o.exports}(156);return r})()));